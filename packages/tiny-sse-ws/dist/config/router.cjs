"use strict";const E=require("express-ws"),routes_sse=require("../routes/sse.cjs"),routes_ws=require("../routes/ws.cjs"),routes_push=require("../routes/push.cjs"),utils_logger=require("../utils/logger.cjs"),config_Result=require("./Result.cjs"),middleware_session=require("../middleware/session.cjs");function _interopDefaultCompat(s){return s&&typeof s=="object"&&"default"in s?s.default:s}const E__default=_interopDefaultCompat(E);function useRoutes(s){s.use(middleware_session.getSessionMiddleware()),s.use("/sse",routes_sse.default),s.use("/push",routes_push.default),s.use("/ws",routes_ws.default),E__default(s),s.use((e,u)=>{u.status(404).send(config_Result.Result.notFound(null))}),s.use((e,u,t,r)=>{utils_logger.logger.error(e.stack),t.status(500).send(config_Result.Result.coreFail(e.message))})}exports.useRoutes=useRoutes;
